(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("A36C"),r=n("iWo5"),i=n("qULd");const s=(t,e)=>{let n,s;const c=(t,o,r)=>{if("undefined"==typeof document)return;const i=document.elementFromPoint(t,o);i&&e(i)?i!==n&&(l(),a(i,r)):l()},a=(t,e)=>{n=t,s||(s=n);const r=n;Object(o.f)(()=>r.classList.add("ion-activated")),e()},l=(t=!1)=>{if(!n)return;const e=n;Object(o.f)(()=>e.classList.remove("ion-activated")),t&&s!==n&&n.click(),n=void 0};return Object(r.createGesture)({el:t,gestureName:"buttonActiveDrag",threshold:0,onStart:t=>c(t.currentX,t.currentY,i.a),onMove:t=>c(t.currentX,t.currentY,i.b),onEnd:()=>{l(!0),Object(i.e)(),s=void 0}})}},"74mu":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c}));const o=(t,e)=>null!==e.closest(t),r=(t,e)=>"string"==typeof t&&t.length>0?Object.assign({"ion-color":!0,["ion-color-"+t]:!0},e):e,i=t=>{const e={};return(t=>void 0!==t?(Array.isArray(t)?t:t.split(" ")).filter(t=>null!=t).map(t=>t.trim()).filter(t=>""!==t):[])(t).forEach(t=>e[t]=!0),e},s=/^[a-z][a-z0-9+\-.]*:/,c=async(t,e,n,o)=>{if(null!=t&&"#"!==t[0]&&!s.test(t)){const r=document.querySelector("ion-router");if(r)return null!=e&&e.preventDefault(),r.push(t,n,o)}return!1}},NEhk:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var o=n("mrSG"),r=n("fXoL"),i=n("TEn/");let s=(()=>{class t{constructor(t){this.toastController=t}presentToast(t="Something went wrong."){return Object(o.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:4e3,position:"top"})).present()}))}}return t.\u0275fac=function(e){return new(e||t)(r.Ub(i.Z))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},OYNw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var o=n("mrSG"),r=n("z6cu"),i=n("JIr8"),s=(n("t4lL"),n("AytR")),c=n("NEhk"),a=n("TEn/"),l=n("fXoL"),u=n("tk/3"),b=n("ofXK"),g=n("sYmb");function d(t,e){if(1&t){const t=l.Rb();l.Qb(0,"ion-item",5),l.Yb("click",(function(){l.pc(t);const n=e.$implicit;return l.ac().closeModal(n)})),l.Mb(1,"div",6),l.Qb(2,"ion-label"),l.wc(3),l.Pb(),l.Pb()}if(2&t){const t=e.$implicit;l.Bb(3),l.yc(" ",null==t?null:t.name," ")}}let h=(()=>{class t{constructor(t,e,n){this.toastService=t,this.modalController=e,this.httpClient=n,this.searchResults=[]}ngOnInit(){setTimeout(()=>{this.searchbar.setFocus()},1e3)}test(){return"testing stuff"}discardModal(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.modalController.dismiss()}))}closeModal(t){return Object(o.a)(this,void 0,void 0,(function*(){const e=t;yield this.modalController.dismiss(e)}))}searchForUser(t,e){return this.httpClient.post(s.b+"/users/search",{name:t,email:e}).pipe(Object(i.a)(t=>(this.toastService.presentToast(),Object(r.a)(t))))}onSearchTerm(t){const e=t.detail.value;e.length>2&&this.searchForUser(e,e).subscribe(t=>{this.searchResults=t})}getGuestAndCloseModal(){this.searchForUser("","guestAccount@test.com").subscribe(t=>{this.closeModal(t[0])})}}return t.\u0275fac=function(e){return new(e||t)(l.Lb(c.a),l.Lb(a.S),l.Lb(u.b))},t.\u0275cmp=l.Fb({type:t,selectors:[["app-player-search-modal"]],viewQuery:function(t,e){var n;1&t&&l.Cc(a.F,!0),2&t&&l.mc(n=l.Zb())&&(e.searchbar=n.first)},decls:10,vars:7,consts:[[1,"inner-content"],[3,"placeholder","ionChange"],["slot","end"],["color","primary",3,"click"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["tabindex","0"]],template:function(t,e){1&t&&(l.Qb(0,"div",0),l.Qb(1,"ion-item"),l.Qb(2,"ion-searchbar",1),l.Yb("ionChange",(function(t){return e.onSearchTerm(t)})),l.bc(3,"translate"),l.Pb(),l.Qb(4,"ion-buttons",2),l.Qb(5,"ion-button",3),l.Yb("click",(function(){return e.getGuestAndCloseModal()})),l.wc(6),l.bc(7,"translate"),l.Pb(),l.Pb(),l.Pb(),l.Qb(8,"ion-list"),l.uc(9,d,4,1,"ion-item",4),l.Pb(),l.Pb()),2&t&&(l.Bb(2),l.hc("placeholder",l.cc(3,3,"game.search_placeholder")),l.Bb(4),l.xc(l.cc(7,5,"game.add_guest")),l.Bb(3),l.gc("ngForOf",e.searchResults))},directives:[a.u,a.F,a.Y,a.g,a.f,a.y,b.i,a.x],pipes:[g.c],styles:["ion-toolbar[_ngcontent-%COMP%]{--min-height:30px}ion-searchbar[_ngcontent-%COMP%]{box-shadow:0 0 0 #000;--icon-color:var(--ion-color-primary);--background:#f1f1f1}ion-buttons[_ngcontent-%COMP%]{-webkit-margin-start:0!important;margin-inline-start:0!important}ion-label.elo[_ngcontent-%COMP%]{text-align:right!important;color:var(--ion-color-primary)}ion-item[_ngcontent-%COMP%]{--border-width:0;--inner-border-width:0;--background:#fff;color:#000}"]}),t})()},X3zk:function(t,e,n){"use strict";n.r(e),n.d(e,"LoginPageModule",(function(){return T}));var o=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),s=n("tyNb"),c=n("sV9K"),a=n("AytR"),l=n("z6cu"),u=n("JIr8"),b=n("NEhk"),g=n("fXoL"),d=n("sYmb"),h=n("tk/3"),p=n("e8h1");function f(t,e){1&t&&(g.Qb(0,"h5"),g.wc(1),g.bc(2,"translate"),g.Pb()),2&t&&(g.Bb(1),g.xc(g.cc(2,1,"login.good_to_have_you_here")))}function m(t,e){1&t&&(g.Qb(0,"h5"),g.wc(1),g.bc(2,"translate"),g.Pb()),2&t&&(g.Bb(1),g.xc(g.cc(2,1,"login.lets_get_started")))}function w(t,e){1&t&&(g.Qb(0,"h5"),g.wc(1),g.bc(2,"translate"),g.Pb()),2&t&&(g.Bb(1),g.xc(g.cc(2,1,"login.no_worries")))}function P(t,e){1&t&&(g.Qb(0,"ion-label"),g.wc(1),g.bc(2,"translate"),g.Pb()),2&t&&(g.Bb(1),g.yc(" ",g.cc(2,1,"login.sign_in")," "))}function _(t,e){1&t&&(g.Qb(0,"ion-label"),g.Mb(1,"ion-spinner",15),g.Pb())}function y(t,e){if(1&t){const t=g.Rb();g.Qb(0,"div",5),g.Qb(1,"ion-list"),g.Qb(2,"ion-item",6),g.Mb(3,"ion-icon",7),g.Qb(4,"ion-input",8),g.Yb("ngModelChange",(function(e){return g.pc(t),g.ac().userToLogin.email=e})),g.Pb(),g.Pb(),g.Qb(5,"ion-item",9),g.Mb(6,"ion-icon",10),g.Qb(7,"ion-input",11),g.Yb("ngModelChange",(function(e){return g.pc(t),g.ac().userToLogin.password=e})),g.Pb(),g.Pb(),g.Pb(),g.Qb(8,"ion-button",12),g.Yb("click",(function(){return g.pc(t),g.ac().login()})),g.uc(9,P,3,3,"ion-label",3),g.uc(10,_,2,0,"ion-label",3),g.Pb(),g.Qb(11,"ion-button",13),g.Yb("click",(function(){return g.pc(t),g.ac().toggleSignup(!0)})),g.wc(12),g.bc(13,"translate"),g.Pb(),g.Qb(14,"a",14),g.Yb("click",(function(){return g.pc(t),g.ac().toggleForgotPassword(!0)})),g.wc(15),g.bc(16,"translate"),g.Pb(),g.Pb()}if(2&t){const t=g.ac();g.Bb(4),g.gc("ngModel",t.userToLogin.email),g.Bb(3),g.gc("ngModel",t.userToLogin.password),g.Bb(2),g.gc("ngIf",!t.isLoading),g.Bb(1),g.gc("ngIf",t.isLoading),g.Bb(2),g.yc(" ",g.cc(13,6,"login.register")," "),g.Bb(3),g.xc(g.cc(16,8,"login.forgot_password"))}}function v(t,e){if(1&t){const t=g.Rb();g.Qb(0,"div",5),g.Qb(1,"ion-item",6),g.Qb(2,"ion-label",16),g.wc(3),g.bc(4,"translate"),g.Pb(),g.Qb(5,"ion-input",17),g.Yb("ngModelChange",(function(e){return g.pc(t),g.ac().userToRegister.name=e})),g.Pb(),g.Pb(),g.Qb(6,"ion-item",6),g.Qb(7,"ion-label",16),g.wc(8),g.bc(9,"translate"),g.Pb(),g.Qb(10,"ion-input",8),g.Yb("ngModelChange",(function(e){return g.pc(t),g.ac().userToRegister.email=e})),g.Pb(),g.Pb(),g.Qb(11,"ion-item",6),g.Qb(12,"ion-label",16),g.wc(13),g.bc(14,"translate"),g.Pb(),g.Qb(15,"ion-input",11),g.Yb("ngModelChange",(function(e){return g.pc(t),g.ac().userToRegister.password=e})),g.Pb(),g.Pb(),g.Qb(16,"ion-item",9),g.Qb(17,"ion-label",16),g.wc(18),g.bc(19,"translate"),g.Pb(),g.Qb(20,"ion-input",11),g.Yb("ngModelChange",(function(e){return g.pc(t),g.ac().userToRegister.password2=e})),g.Pb(),g.Pb(),g.Qb(21,"ion-row"),g.Qb(22,"ion-col"),g.Qb(23,"ion-button",13),g.Yb("click",(function(){return g.pc(t),g.ac().register()})),g.wc(24),g.bc(25,"translate"),g.Pb(),g.Qb(26,"ion-button",12),g.Yb("click",(function(){return g.pc(t),g.ac().toggleSignup(!1)})),g.wc(27),g.bc(28,"translate"),g.Pb(),g.Pb(),g.Pb(),g.Qb(29,"p"),g.wc(30),g.bc(31,"translate"),g.Qb(32,"a",18),g.wc(33),g.bc(34,"translate"),g.Pb(),g.Pb(),g.Pb()}if(2&t){const t=g.ac();g.Bb(3),g.xc(g.cc(4,12,"login.username")),g.Bb(2),g.gc("ngModel",t.userToRegister.name),g.Bb(3),g.xc(g.cc(9,14,"login.email")),g.Bb(2),g.gc("ngModel",t.userToRegister.email),g.Bb(3),g.xc(g.cc(14,16,"login.password")),g.Bb(2),g.gc("ngModel",t.userToRegister.password),g.Bb(3),g.xc(g.cc(19,18,"login.repeat_password")),g.Bb(2),g.gc("ngModel",t.userToRegister.password2),g.Bb(4),g.yc("",g.cc(25,20,"login.register")," "),g.Bb(3),g.yc("",g.cc(28,22,"login.back")," "),g.Bb(3),g.yc(" ",g.cc(31,24,"login.accept_terms")," "),g.Bb(3),g.xc(g.cc(34,26,"login.terms_and_privacy_policy"))}}function C(t,e){if(1&t){const t=g.Rb();g.Qb(0,"div",5),g.Qb(1,"ion-item",19),g.Mb(2,"ion-icon",7),g.Qb(3,"ion-input",20),g.Yb("ngModelChange",(function(e){return g.pc(t),g.ac().resetEmail=e})),g.Pb(),g.Pb(),g.Qb(4,"ion-button",13),g.Yb("click",(function(){return g.pc(t),g.ac().resetPassword()})),g.wc(5),g.bc(6,"translate"),g.Pb(),g.Qb(7,"ion-button",21),g.Yb("click",(function(){return g.pc(t),g.ac().toggleForgotPassword(!1)})),g.wc(8),g.bc(9,"translate"),g.Pb(),g.Pb()}if(2&t){const t=g.ac();g.Bb(3),g.gc("ngModel",t.resetEmail),g.Bb(2),g.yc(" ",g.cc(6,3,"login.reset")," "),g.Bb(3),g.yc("",g.cc(9,5,"login.back")," ")}}const M=[{path:"",component:(()=>{class t{constructor(t,e,n,o,r,i,s,c){this.translator=t,this.domCtrl=e,this.toastService=n,this.toastController=o,this.authService=r,this.httpClient=i,this.storage=s,this.router=c,this.signup=!1,this.isLoading=!1,this.forgotPassword=!1,this.userToLogin={email:null,password:null},this.userToRegister={email:null,name:null,password:null,password2:null},this.router.events.subscribe(t=>{})}ngOnInit(){this.loginFailed=!1}toggleSignup(t){this.signup=t,this.userToRegister.email=null,this.userToRegister.name=null,this.userToRegister.password=null,this.userToRegister.password2=null}toggleForgotPassword(t){this.forgotPassword=t}login(){this.authService.login(this.userToLogin).subscribe(t=>{t.user.email&&(this.isLoading=!0,setTimeout(()=>{this.router.navigateByUrl("tabs/welcome"),this.isLoading=!1},1500))},t=>{console.log("login failed"),console.log("HTTP Error",t),this.toastService.presentToast(this.translator.instant("login.login_failed_toast"))})}register(){this.authService.register(this.userToRegister).subscribe(t=>{this.signup=!1,this.userToLogin.email=this.userToRegister.email,this.userToLogin.password=this.userToRegister.password,this.login()},t=>{t.error.nameRequired?this.toastService.presentToast(this.translator.instant("login.register_error_name_required")):t.error.user_already_exists?this.toastService.presentToast(this.translator.instant("login.register_error_username_email_already_exists")):t.error.nameInvalid?this.toastService.presentToast(this.translator.instant("login.register_error_username_invalid")):t.error.emailRequired?this.toastService.presentToast(this.translator.instant("login.register_error_email_required")):t.error.emailInvalid?this.toastService.presentToast(this.translator.instant("login.register_error_email_invalid")):t.error.passwordRequired?this.toastService.presentToast(this.translator.instant("login.register_error_password_required")):t.error.password2Required?this.toastService.presentToast(this.translator.instant("login.register_error_password2_required")):t.error.passwordLength?this.toastService.presentToast(this.translator.instant("login.register_error_password_length")):t.error.password2Mismatch&&this.toastService.presentToast(this.translator.instant("login.register_error_password_mismatch"))})}resetPassword(){/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(this.resetEmail)?this.APIresetPassword(this.resetEmail).subscribe(t=>{console.log(t),this.toastService.presentToast(this.translator.instant("login.reset_sent"))}):this.toastService.presentToast(this.translator.instant("login.invalid_email_error"))}APIresetPassword(t){return this.httpClient.get(`${a.b}/users/sendResetPasswordEmail/${t}`).pipe(Object(u.a)(t=>{if(!t.error.emailNotFoundError)return this.toastService.presentToast(),Object(l.a)(t);this.toastService.presentToast(this.translator.instant("login.user_not_found"))}))}}return t.\u0275fac=function(e){return new(e||t)(g.Lb(d.d),g.Lb(i.c),g.Lb(b.a),g.Lb(i.Z),g.Lb(c.a),g.Lb(h.b),g.Lb(p.b),g.Lb(s.h))},t.\u0275cmp=g.Fb({type:t,selectors:[["app-login"]],decls:12,vars:9,consts:[[1,"main"],[1,"login-container"],["src","../../assets/pictures/dragon_icon_login.png","alt",""],[4,"ngIf"],["class","form",4,"ngIf"],[1,"form"],["lines","none"],["slot","start","name","mail"],["type","text","required","",3,"ngModel","ngModelChange"],["lines","none",1,"round-bottom-edges"],["slot","start","name","lock-closed"],["type","password","required","",3,"ngModel","ngModelChange"],["expand","block",3,"click"],["color","primary","expand","block",3,"click"],[1,"small-text",3,"click"],["name","dots"],["position","floating"],["maxlength","12","type","text","required","",3,"ngModel","ngModelChange"],["href","https://pdfhost.io/v/5kL2Ce7mJ_Microsoft_Word_DataProtectionPolicydocx.pdf"],["lines","full"],["type","email","required","",3,"ngModel","ngModelChange"],["color","dark","expand","block",3,"click"]],template:function(t,e){1&t&&(g.Qb(0,"ion-content",0),g.Qb(1,"div",1),g.Mb(2,"img",2),g.Qb(3,"h1"),g.wc(4),g.bc(5,"translate"),g.Pb(),g.uc(6,f,3,3,"h5",3),g.uc(7,m,3,3,"h5",3),g.uc(8,w,3,3,"h5",3),g.uc(9,y,17,10,"div",4),g.uc(10,v,35,28,"div",4),g.uc(11,C,10,7,"div",4),g.Pb(),g.Pb()),2&t&&(g.Bb(4),g.xc(g.cc(5,7,"login.appname")),g.Bb(2),g.gc("ngIf",!e.signup&&!e.forgotPassword),g.Bb(1),g.gc("ngIf",e.signup),g.Bb(1),g.gc("ngIf",e.forgotPassword),g.Bb(1),g.gc("ngIf",!e.signup&&!e.forgotPassword),g.Bb(1),g.gc("ngIf",e.signup&&!e.forgotPassword),g.Bb(1),g.gc("ngIf",e.forgotPassword&&!e.signup))},directives:[i.p,o.j,i.y,i.u,i.s,i.t,i.Y,r.h,r.e,r.f,i.f,i.x,i.K,r.b,i.E,i.o],pipes:[d.c],styles:["ion-content[_ngcontent-%COMP%]{--ion-background-color:var(--ion-color-background)}ion-content[_ngcontent-%COMP%]::part(background){background:url(dragon_login.a108fd319727bf6f2bdf.png) no-repeat 0 0 fixed;background-size:cover}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%]{color:#f5f5f5;text-align:center}ion-icon[_ngcontent-%COMP%]{color:#f5f5f5}.small-text[_ngcontent-%COMP%]{color:grey}.lowercase[_ngcontent-%COMP%]{text-transform:lowercase}.login-container[_ngcontent-%COMP%]{padding-left:7%;padding-right:7%;padding-top:4rem}img[_ngcontent-%COMP%]{width:30%;display:block;margin-left:auto;margin-right:auto}ion-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:5px;border-top-right-radius:5px}ion-item.round-bottom-edges[_ngcontent-%COMP%]{border-bottom-left-radius:5px;border-bottom-right-radius:5px}ion-input[_ngcontent-%COMP%], ion-label[_ngcontent-%COMP%]{--color:#f5f5f5!important}a[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#969696}"]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=g.Jb({type:t}),t.\u0275inj=g.Ib({factory:function(e){return new(e||t)},imports:[[s.j.forChild(M)],s.j]}),t})(),T=(()=>{class t{}return t.\u0275mod=g.Jb({type:t}),t.\u0275inj=g.Ib({factory:function(e){return new(e||t)},imports:[[o.b,r.a,r.g,i.Q,S,d.b.forChild()]]}),t})()},ZaV5:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));const o=async(t,e,n,o,r)=>{if(t)return t.attachViewToDom(e,n,r,o);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const i="string"==typeof n?e.ownerDocument&&e.ownerDocument.createElement(n):n;return o&&o.forEach(t=>i.classList.add(t)),r&&Object.assign(i,r),e.appendChild(i),i.componentOnReady&&await i.componentOnReady(),i},r=(t,e)=>{if(e){if(t)return t.removeViewFromDom(e.parentElement,e);e.remove()}return Promise.resolve()}},h3R7:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));const o={bubbles:{dur:1e3,circles:9,fn:(t,e,n)=>{const o=t*e/n-t+"ms",r=2*Math.PI*e/n;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(t,e,n)=>{const o=e/n,r=t*o-t+"ms",i=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":r}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,e)=>({r:6,style:{left:9-9*e+"px","animation-delay":-110*e+"ms"}})},lines:{dur:1e3,lines:12,fn:(t,e,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(t,e,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*e+(e<6?180:-180)}deg)`,"animation-delay":t*e/n-t+"ms"}})}}},qULd:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"e",(function(){return c}));const o={getEngine(){const t=window;return t.TapticEngine||t.Capacitor&&t.Capacitor.isPluginAvailable("Haptics")&&t.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.impact({style:n})},notification(t){const e=this.getEngine();if(!e)return;const n=this.isCapacitor()?t.style.toUpperCase():t.style;e.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionStart():t.gestureSelectionStart())},selectionChanged(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionChanged():t.gestureSelectionChanged())},selectionEnd(){const t=this.getEngine();t&&(this.isCapacitor()?t.selectionEnd():t.gestureSelectionEnd())}},r=()=>{o.selection()},i=()=>{o.selectionStart()},s=()=>{o.selectionChanged()},c=()=>{o.selectionEnd()},a=t=>{o.impact(t)}},sV9K:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var o=n("mrSG"),r=n("vkgz"),i=n("2Vo4"),s=n("AytR"),c=n("fXoL"),a=n("tk/3"),l=n("e8h1");let u=(()=>{class t{constructor(t,e){this.httpClient=t,this.storage=e,this.authSubject=new i.a(!1)}register(t){return this.httpClient.post(s.b+"/users/register",t).pipe(Object(r.a)(t=>Object(o.a)(this,void 0,void 0,(function*(){t.user&&(yield this.storage.set("ACCESS_TOKEN",t.user.access_token),yield this.storage.set("EXPIRES_IN",t.user.expires_in),this.authSubject.next(!0))}))))}login(t){return this.httpClient.post(s.b+"/users/login",t).pipe(Object(r.a)(t=>Object(o.a)(this,void 0,void 0,(function*(){console.log("this is called"),t.user&&(console.log("This is the user",t.user),yield this.storage.set("USER_ID",t.user.id),yield this.storage.set("USER_EMAIL",t.user.email),yield this.storage.set("ACCESS_TOKEN",t.user.access_token),yield this.storage.set("EXPIRES_IN",t.user.expires_in),this.authSubject.next(!0))}))))}logout(){return Object(o.a)(this,void 0,void 0,(function*(){yield this.storage.remove("USER_ID"),yield this.storage.remove("USER_NAME"),yield this.storage.remove("USER_EMAIL"),yield this.storage.remove("ACCESS_TOKEN"),yield this.storage.remove("EXPIRES_IN"),this.authSubject.next(!1)}))}isLoggedIn(){return this.authSubject.asObservable()}}return t.\u0275fac=function(e){return new(e||t)(c.Ub(a.b),c.Ub(l.b))},t.\u0275prov=c.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},t4lL:function(t,e){},"t5+X":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var o=n("ofXK"),r=n("3Pt+"),i=n("TEn/"),s=n("tyNb"),c=n("OYNw"),a=n("fXoL");const l=[{path:"",component:c.a}];let u=(()=>{class t{}return t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({factory:function(e){return new(e||t)},imports:[[s.j.forChild(l)],s.j]}),t})();var b=n("sYmb");let g=(()=>{class t{}return t.\u0275mod=a.Jb({type:t}),t.\u0275inj=a.Ib({factory:function(e){return new(e||t)},imports:[[o.b,r.a,i.Q,u,b.b.forChild()]]}),t})()}}]);